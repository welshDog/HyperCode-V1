<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HyperCode AI Project Scanner</title>
    <style>
        :root {
            --color-primary: #2180a3;
            --color-secondary: #32b8c6;
            --color-success: #22c55e;
            --color-warning: #f59e0b;
            --color-error: #ef4444;
            --color-bg: #f8fafc;
            --color-surface: #ffffff;
            --color-text: #1e293b;
            --color-text-muted: #64748b;
            --color-border: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--color-text);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: var(--color-surface);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--color-border);
        }

        .card h2 {
            font-size: 1.4em;
            margin-bottom: 16px;
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        textarea {
            width: 100%;
            min-height: 300px;
            padding: 12px;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(33, 128, 163, 0.1);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 16px;
            flex-wrap: wrap;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 140px;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        .btn-primary:hover {
            background: #1a6a8c;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 128, 163, 0.3);
        }

        .btn-secondary {
            background: var(--color-bg);
            color: var(--color-text);
            border: 2px solid var(--color-border);
        }

        .btn-secondary:hover {
            background: var(--color-border);
        }

        .btn-success {
            background: var(--color-success);
            color: white;
        }

        .btn-success:hover {
            background: #16a34a;
            transform: translateY(-2px);
        }

        .output-section {
            background: var(--color-surface);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--color-border);
        }

        .output-section h2 {
            font-size: 1.4em;
            margin-bottom: 16px;
            color: var(--color-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            border-bottom: 2px solid var(--color-border);
            flex-wrap: wrap;
        }

        .tab {
            padding: 10px 16px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: var(--color-text-muted);
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--color-primary);
            border-bottom-color: var(--color-primary);
        }

        .tab:hover {
            color: var(--color-primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .tree-view {
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            background: #f1f5f9;
            padding: 16px;
            border-radius: 8px;
            overflow-x: auto;
            max-height: 500px;
            overflow-y: auto;
        }

        .tree-item {
            margin: 2px 0;
            padding: 4px 8px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .tree-item:hover {
            background: rgba(33, 128, 163, 0.1);
            border-radius: 4px;
        }

        .tree-folder {
            color: var(--color-primary);
            font-weight: 600;
        }

        .tree-file {
            color: var(--color-text-muted);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .language-breakdown {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin: 16px 0;
        }

        .lang-badge {
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
        }

        .relationships {
            background: var(--color-bg);
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
        }

        .relationship-item {
            margin: 12px 0;
            padding: 12px;
            background: var(--color-surface);
            border-left: 3px solid var(--color-primary);
            border-radius: 4px;
        }

        .relationship-file {
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: 6px;
        }

        .relationship-deps {
            font-size: 13px;
            color: var(--color-text-muted);
            margin-left: 12px;
        }

        .json-output {
            background: #1e293b;
            color: #e2e8f0;
            padding: 16px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            max-height: 500px;
            overflow-y: auto;
            line-height: 1.5;
        }

        .spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(33, 128, 163, 0.3);
            border-top-color: var(--color-primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .message {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            font-size: 14px;
        }

        .message.success {
            background: rgba(34, 197, 94, 0.1);
            color: var(--color-success);
            border-left: 3px solid var(--color-success);
        }

        .message.error {
            background: rgba(239, 68, 68, 0.1);
            color: var(--color-error);
            border-left: 3px solid var(--color-error);
        }

        .copy-btn {
            padding: 6px 12px;
            font-size: 12px;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 12px;
        }

        .copy-btn:hover {
            background: #1a6a8c;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ HyperCode AI Scanner</h1>
            <p>Intelligent Project Structure Analysis & AI Context Generator</p>
        </header>

        <div class="main-grid">
            <!-- Input Section -->
            <div class="card">
                <h2>ğŸ“‚ Input Project Structure</h2>
                <p style="margin-bottom: 12px; font-size: 13px; color: var(--color-text-muted);">
                    Paste your project folder structure (tree format) or describe your project layout:
                </p>
                <textarea id="projectInput" placeholder="HyperCode/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ parser.py
â”‚   â”‚   â””â”€â”€ compiler.py
â”‚   â”œâ”€â”€ ai_integration/
â”‚   â”‚   â””â”€â”€ llm_bridge.py
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ tests/
â”œâ”€â”€ docs/
â””â”€â”€ config/

Or just describe: Node.js project with React frontend, Express backend, PostgreSQL..."></textarea>
                <div class="button-group">
                    <button class="btn-primary" onclick="analyzeProject()">
                        <span id="analyzeBtn">ğŸ” Analyze Project</span>
                    </button>
                    <button class="btn-secondary" onclick="loadSample()">ğŸ“‹ Load Sample</button>
                    <button class="btn-secondary" onclick="clearInput()">ğŸ—‘ï¸ Clear</button>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="card">
                <h2>ğŸ“Š Project Quick Stats</h2>
                <div class="stats-grid" id="statsGrid">
                    <div class="stat-box">
                        <div class="stat-value">-</div>
                        <div class="stat-label">Total Files</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">-</div>
                        <div class="stat-label">Folders</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">-</div>
                        <div class="stat-label">Project Type</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">-</div>
                        <div class="stat-label">AI Readiness</div>
                    </div>
                </div>
                <div id="statsMessage" style="font-size: 13px; color: var(--color-text-muted); text-align: center;">
                    Analyze a project to see statistics
                </div>
            </div>
        </div>

        <!-- Output Section -->
        <div class="output-section">
            <h2>ğŸ“ˆ Analysis Results</h2>
            
            <div class="tabs">
                <button class="tab active" onclick="switchTab('tree')">ğŸŒ³ Tree View</button>
                <button class="tab" onclick="switchTab('analysis')">ğŸ” Analysis</button>
                <button class="tab" onclick="switchTab('relationships')">ğŸ”— Relationships</button>
                <button class="tab" onclick="switchTab('json')">âš™ï¸ JSON Export</button>
            </div>

            <!-- Tree View Tab -->
            <div id="tree" class="tab-content active">
                <div id="treeOutput" class="tree-view" style="display: none;">
                    <!-- Generated tree will appear here -->
                </div>
                <div id="treeMessage" style="text-align: center; color: var(--color-text-muted); padding: 40px;">
                    ğŸ‘ˆ Analyze a project to generate tree view
                </div>
            </div>

            <!-- Analysis Tab -->
            <div id="analysis" class="tab-content">
                <div id="analysisOutput" style="display: none;">
                    <!-- Analysis results will appear here -->
                </div>
                <div id="analysisMessage" style="text-align: center; color: var(--color-text-muted); padding: 40px;">
                    ğŸ‘ˆ Analyze a project to see detailed analysis
                </div>
            </div>

            <!-- Relationships Tab -->
            <div id="relationships" class="tab-content">
                <div id="relationshipsOutput" style="display: none;">
                    <!-- File relationships will appear here -->
                </div>
                <div id="relationshipsMessage" style="text-align: center; color: var(--color-text-muted); padding: 40px;">
                    ğŸ‘ˆ Analyze a project to see file relationships
                </div>
            </div>

            <!-- JSON Export Tab -->
            <div id="json" class="tab-content">
                <div id="jsonOutput" style="display: none;">
                    <!-- JSON will appear here -->
                </div>
                <div id="jsonMessage" style="text-align: center; color: var(--color-text-muted); padding: 40px;">
                    ğŸ‘ˆ Analyze a project to generate AI-ready JSON
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample project data
        const sampleProject = `HyperCode/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ parser.py
â”‚   â”‚   â”œâ”€â”€ compiler.py
â”‚   â”‚   â”œâ”€â”€ lexer.py
â”‚   â”‚   â””â”€â”€ ast_builder.py
â”‚   â”œâ”€â”€ language/
â”‚   â”‚   â”œâ”€â”€ syntax.hc
â”‚   â”‚   â”œâ”€â”€ keywords.json
â”‚   â”‚   â”œâ”€â”€ operators.json
â”‚   â”‚   â””â”€â”€ primitives.py
â”‚   â”œâ”€â”€ ai_integration/
â”‚   â”‚   â”œâ”€â”€ llm_bridge.py
â”‚   â”‚   â”œâ”€â”€ prompt_optimizer.py
â”‚   â”‚   â”œâ”€â”€ code_generator.py
â”‚   â”‚   â””â”€â”€ validators.py
â”‚   â”œâ”€â”€ accessibility/
â”‚   â”‚   â”œâ”€â”€ visual_modes.py
â”‚   â”‚   â”œâ”€â”€ audio_support.py
â”‚   â”‚   â”œâ”€â”€ motor_accessibility.py
â”‚   â”‚   â””â”€â”€ cognitive_load.py
â”‚   â”œâ”€â”€ quantum/
â”‚   â”‚   â”œâ”€â”€ q_gates.py
â”‚   â”‚   â”œâ”€â”€ q_compiler.py
â”‚   â”‚   â””â”€â”€ q_simulator.py
â”‚   â”œâ”€â”€ bio_dna/
â”‚   â”‚   â”œâ”€â”€ dna_syntax.py
â”‚   â”‚   â”œâ”€â”€ protein_fold.py
â”‚   â”‚   â””â”€â”€ bio_operations.py
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ logger.py
â”‚   â”‚   â”œâ”€â”€ file_handler.py
â”‚   â”‚   â”œâ”€â”€ cache.py
â”‚   â”‚   â””â”€â”€ constants.py
â”‚   â””â”€â”€ cli.py
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â”œâ”€â”€ test_parser.py
â”‚   â”‚   â”œâ”€â”€ test_compiler.py
â”‚   â”‚   â”œâ”€â”€ test_lexer.py
â”‚   â”‚   â””â”€â”€ test_accessibility.py
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â”œâ”€â”€ test_full_pipeline.py
â”‚   â”‚   â””â”€â”€ test_ai_generation.py
â”‚   â””â”€â”€ fixtures/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ SPECIFICATION.md
â”‚   â”œâ”€â”€ NEURODIVERGENT_GUIDE.md
â”‚   â”œâ”€â”€ AI_INTEGRATION.md
â”‚   â”œâ”€â”€ QUANTUM_COMPUTING.md
â”‚   â”œâ”€â”€ BIO_COMPUTING.md
â”‚   â”œâ”€â”€ API.md
â”‚   â”œâ”€â”€ EXAMPLES.md
â”‚   â””â”€â”€ CONTRIBUTING.md
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ hello_world.hc
â”‚   â”œâ”€â”€ fibonacci.hc
â”‚   â”œâ”€â”€ quantum_teleport.hc
â”‚   â”œâ”€â”€ dna_search.hc
â”‚   â””â”€â”€ ai_assisted_example.hc
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ pyproject.toml
â”‚   â”œâ”€â”€ .hypercode.config
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ prettier.config.js
â”‚   â””â”€â”€ .eslintrc.json
â”œâ”€â”€ CI_CD/
â”‚   â”œâ”€â”€ .github/workflows/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ docker-compose.yml
â”œâ”€â”€ research/
â”‚   â”œâ”€â”€ neurodivergent_study.pdf
â”‚   â”œâ”€â”€ quantum_benchmarks.json
â”‚   â””â”€â”€ bio_computing_proposal.md
â”œâ”€â”€ bin/
â”‚   â”œâ”€â”€ hypercode
â”‚   â””â”€â”€ hypercode-repl
â”œâ”€â”€ ROADMAP.md
â”œâ”€â”€ LICENSE
â””â”€â”€ setup.py`;

        // AI Analysis Engine
        function analyzeProject() {
            const input = document.getElementById('projectInput').value.trim();
            if (!input) {
                alert('Please enter a project structure or load sample');
                return;
            }

            document.getElementById('analyzeBtn').innerHTML = '<span class="spinner"></span> Analyzing...';

            // Simulate AI analysis
            setTimeout(() => {
                const analysis = parseAndAnalyzeProject(input);
                displayResults(analysis);
                document.getElementById('analyzeBtn').innerHTML = 'ğŸ” Analyze Project';
            }, 800);
        }

        function parseAndAnalyzeProject(input) {
            const lines = input.split('\n');
            const rootName = lines[0]?.replace(/\/$/, '').trim() || 'Project';
            
            // Parse project structure
            const files = [];
            const folders = new Set();
            const languages = {};
            const filesByType = {};

            lines.forEach(line => {
                const cleanLine = line.replace(/[â”œâ”€â””â”‚ ]/g, '').trim();
                if (!cleanLine || cleanLine === rootName) return;

                // Detect type
                if (cleanLine.includes('.')) {
                    files.push(cleanLine);
                    const ext = cleanLine.split('.').pop().toLowerCase();
                    languages[ext] = (languages[ext] || 0) + 1;
                    filesByType[ext] = (filesByType[ext] || []).concat(cleanLine);
                } else if (cleanLine.length > 0) {
                    folders.add(cleanLine);
                }
            });

            // Detect project type
            let projectType = 'General Project';
            if (languages.py || languages.pyc) projectType = 'Python Project';
            if (languages.js || languages.ts) projectType = 'JavaScript/TypeScript';
            if (languages.java) projectType = 'Java Project';
            if (languages.go) projectType = 'Go Project';
            if (languages.rs) projectType = 'Rust Project';
            if (filesByType.hc) projectType = 'HyperCode Language Project';

            // Calculate metrics
            const totalFiles = files.length;
            const totalFolders = folders.size;
            const avgFilesPerFolder = Math.round(totalFiles / Math.max(totalFolders, 1));

            // Detect key modules
            const keyModules = [];
            ['src', 'core', 'lib', 'utils', 'components', 'services', 'api', 'ai', 'quantum', 'bio'].forEach(mod => {
                if ([...folders].some(f => f.toLowerCase().includes(mod))) {
                    keyModules.push(mod.charAt(0).toUpperCase() + mod.slice(1));
                }
            });

            // AI readiness scoring
            let aiReadiness = 0;
            if (totalFolders > 5) aiReadiness += 30;
            if (totalFiles > 20) aiReadiness += 30;
            if (keyModules.length > 3) aiReadiness += 20;
            if (files.some(f => f.includes('README') || f.includes('SPEC'))) aiReadiness += 10;
            if (files.some(f => f.includes('test') || f.includes('spec'))) aiReadiness += 10;

            const aiScore = Math.min(100, aiReadiness);
            const aiStatus = aiScore >= 80 ? 'EXCELLENT' : aiScore >= 60 ? 'GOOD' : aiScore >= 40 ? 'FAIR' : 'NEEDS_WORK';

            return {
                rootName,
                totalFiles,
                totalFolders,
                languages,
                filesByType,
                projectType,
                keyModules,
                avgFilesPerFolder,
                aiScore,
                aiStatus,
                allFiles: files,
                allFolders: Array.from(folders)
            };
        }

        function displayResults(analysis) {
            // Display Tree
            displayTreeView(analysis);

            // Display Analysis
            displayAnalysis(analysis);

            // Display Relationships
            displayRelationships(analysis);

            // Display JSON
            displayJSON(analysis);

            // Update stats
            updateStats(analysis);
        }

        function displayTreeView(analysis) {
            const treeDiv = document.getElementById('treeOutput');
            const treeMsg = document.getElementById('treeMessage');

            let tree = `${analysis.rootName}/\n`;
            analysis.allFolders.slice(0, 15).forEach((folder, i) => {
                const isLast = i === analysis.allFolders.length - 1;
                tree += `${isLast ? 'â””â”€â”€ ' : 'â”œâ”€â”€ '}ğŸ“ ${folder}/\n`;
            });

            if (analysis.allFolders.length > 15) {
                tree += `â””â”€â”€ ... and ${analysis.allFolders.length - 15} more folders\n`;
            }

            analysis.allFiles.slice(0, 20).forEach((file, i) => {
                tree += `    ${i === analysis.allFiles.length - 1 ? 'â””â”€â”€ ' : 'â”œâ”€â”€ '}ğŸ“„ ${file}\n`;
            });

            if (analysis.allFiles.length > 20) {
                tree += `    â””â”€â”€ ... and ${analysis.allFiles.length - 20} more files\n`;
            }

            treeDiv.textContent = tree;
            treeDiv.style.display = 'block';
            treeMsg.style.display = 'none';
        }

        function displayAnalysis(analysis) {
            const analysisDiv = document.getElementById('analysisOutput');
            const analysisMsg = document.getElementById('analysisMessage');

            let html = `
                <div style="margin-bottom: 20px;">
                    <h3 style="color: var(--color-primary); margin-bottom: 12px;">ğŸ“Š Project Metrics</h3>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                        <div style="background: var(--color-bg); padding: 12px; border-radius: 6px;">
                            <div style="font-weight: 600; color: var(--color-primary);">Total Files</div>
                            <div style="font-size: 1.5em; font-weight: bold;">${analysis.totalFiles}</div>
                        </div>
                        <div style="background: var(--color-bg); padding: 12px; border-radius: 6px;">
                            <div style="font-weight: 600; color: var(--color-primary);">Total Folders</div>
                            <div style="font-size: 1.5em; font-weight: bold;">${analysis.totalFolders}</div>
                        </div>
                        <div style="background: var(--color-bg); padding: 12px; border-radius: 6px;">
                            <div style="font-weight: 600; color: var(--color-primary);">Avg Files/Folder</div>
                            <div style="font-size: 1.5em; font-weight: bold;">${analysis.avgFilesPerFolder}</div>
                        </div>
                        <div style="background: var(--color-bg); padding: 12px; border-radius: 6px;">
                            <div style="font-weight: 600; color: var(--color-primary);">Project Type</div>
                            <div style="font-size: 0.95em; font-weight: bold;">${analysis.projectType}</div>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 20px;">
                    <h3 style="color: var(--color-primary); margin-bottom: 12px;">ğŸ—£ï¸ Languages Detected</h3>
                    <div class="language-breakdown">
                        ${Object.entries(analysis.languages).map(([lang, count]) => 
                            `<div class="lang-badge">.${lang} (${count})</div>`
                        ).join('')}
                    </div>
                </div>

                <div style="margin-bottom: 20px;">
                    <h3 style="color: var(--color-primary); margin-bottom: 12px;">ğŸ¯ Key Modules</h3>
                    <div class="language-breakdown">
                        ${analysis.keyModules.length > 0 
                            ? analysis.keyModules.map(mod => `<div class="lang-badge">ğŸ“¦ ${mod}</div>`).join('')
                            : '<p style="color: var(--color-text-muted);">No major modules detected</p>'
                        }
                    </div>
                </div>
            `;

            analysisDiv.innerHTML = html;
            analysisDiv.style.display = 'block';
            analysisMsg.style.display = 'none';
        }

        function displayRelationships(analysis) {
            const relDiv = document.getElementById('relationshipsOutput');
            const relMsg = document.getElementById('relationshipsMessage');

            const commonDeps = {
                'parser.py': ['lexer.py', 'ast_builder.py', 'syntax.hc'],
                'compiler.py': ['parser.py', 'ast_builder.py'],
                'llm_bridge.py': ['code_generator.py', 'validators.py'],
                'test_parser.py': ['parser.py', 'fixtures'],
                'index.js': ['api.js', 'config.js', 'utils.js']
            };

            let html = `
                <div class="relationships">
                    <h3 style="color: var(--color-primary); margin-bottom: 16px;">ğŸ”— File Dependencies</h3>
            `;

            analysis.allFiles.forEach(file => {
                if (commonDeps[file]) {
                    html += `
                        <div class="relationship-item">
                            <div class="relationship-file">ğŸ“„ ${file}</div>
                            <div class="relationship-deps">Depends on: ${commonDeps[file].join(', ')}</div>
                        </div>
                    `;
                }
            });

            html += `
                    <div style="margin-top: 16px; padding: 12px; background: var(--color-bg); border-radius: 6px; font-size: 13px; color: var(--color-text-muted);">
                        ğŸ’¡ Tip: Use these relationships for AI context awareness and code generation targeting
                    </div>
                </div>
            `;

            relDiv.innerHTML = html;
            relDiv.style.display = 'block';
            relMsg.style.display = 'none';
        }

        function displayJSON(analysis) {
            const jsonDiv = document.getElementById('jsonOutput');
            const jsonMsg = document.getElementById('jsonMessage');

            const jsonObj = {
                projectName: analysis.rootName,
                totalFiles: analysis.totalFiles,
                totalFolders: analysis.totalFolders,
                projectType: analysis.projectType,
                languages: analysis.languages,
                keyModules: analysis.keyModules,
                aiReadiness: {
                    score: analysis.aiScore,
                    status: analysis.aiStatus
                },
                structure: {
                    folders: analysis.allFolders.slice(0, 10),
                    fileCount: analysis.totalFiles,
                    avgFilesPerFolder: analysis.avgFilesPerFolder
                },
                topFiles: analysis.allFiles.slice(0, 15)
            };

            const jsonStr = JSON.stringify(jsonObj, null, 2);
            
            jsonDiv.innerHTML = `
                <div class="json-output">${escapeHtml(jsonStr)}</div>
                <button class="copy-btn" onclick="copyToClipboard('${escapeHtml(jsonStr)}')">ğŸ“‹ Copy JSON</button>
            `;
            jsonDiv.style.display = 'block';
            jsonMsg.style.display = 'none';
        }

        function updateStats(analysis) {
            const statsGrid = document.getElementById('statsGrid');
            statsGrid.innerHTML = `
                <div class="stat-box">
                    <div class="stat-value">${analysis.totalFiles}</div>
                    <div class="stat-label">Total Files</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">${analysis.totalFolders}</div>
                    <div class="stat-label">Folders</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">${analysis.projectType.split(' ')[0]}</div>
                    <div class="stat-label">Type</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value">${analysis.aiStatus}</div>
                    <div class="stat-label">AI Ready</div>
                </div>
            `;
        }

        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function loadSample() {
            document.getElementById('projectInput').value = sampleProject;
        }

        function clearInput() {
            document.getElementById('projectInput').value = '';
        }

        function copyToClipboard(text) {
            const decoded = text.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&');
            navigator.clipboard.writeText(decoded).then(() => {
                alert('âœ… JSON copied to clipboard!');
            });
        }

        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, m => map[m]);
        }
    </script>
</body>
</html>
